<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/index.css">
</head>
<body>

<div class="goods-list goods-list1 J-goods-list1">
    <ul>
        <li><img src="images/1.jpg"></li>
        <li><img src="images/2.jpg"></li>
        <li><img src="images/3.jpg"></li>
        <li><img src="images/4.jpg"></li>
        <li><img src="images/5.jpg"></li>
        <li><img src="images/6.jpg"></li>
        <li><img src="images/7.jpg"></li>
        <li><img src="images/8.jpg"></li>
        <li><img src="images/9.jpg"></li>
        <li><img src="images/10.jpg"></li>
        <li><img src="images/11.jpg"></li>
        <li><img src="images/12.jpg"></li>
        <li><img src="images/13.jpg"></li>
        <li><img src="images/14.jpg"></li>
        <li><img src="images/15.jpg"></li>
        <li><img src="images/16.jpg"></li>
        <li><img src="images/17.jpg"></li>
        <li><img src="images/18.jpg"></li>
        <li><img src="images/11.jpg"></li>
    </ul>
    <div class="btns">
        <a href="javascript:;" class="prev-btn btn J-prev-btn">&lt;</a>
        <a href="javascript:;" class="next-btn btn J-next-btn">&gt;</a>
    </div>
</div>
<div class="goods-list goods-list2 J-goods-list2">
    <ul>
        <li><img src="images/1.jpg"></li>
        <li><img src="images/2.jpg"></li>
        <li><img src="images/3.jpg"></li>
        <li><img src="images/4.jpg"></li>
        <li><img src="images/5.jpg"></li>
        <li><img src="images/6.jpg"></li>
        <li><img src="images/7.jpg"></li>
        <li><img src="images/8.jpg"></li>
        <li><img src="images/9.jpg"></li>
        <li><img src="images/10.jpg"></li>
        <li><img src="images/11.jpg"></li>
        <li><img src="images/12.jpg"></li>
        <li><img src="images/13.jpg"></li>
        <li><img src="images/14.jpg"></li>
        <li><img src="images/15.jpg"></li>
        <li><img src="images/16.jpg"></li>
        <li><img src="images/17.jpg"></li>
        <li><img src="images/18.jpg"></li>
        <li><img src="images/11.jpg"></li>
    </ul>
    <div class="btns">
        <a href="javascript:;" class="prev-btn btn J-prev-btn">&lt;</a>
        <a href="javascript:;" class="next-btn btn J-next-btn">&gt;</a>
    </div>
</div>

<script type="text/javascript" src="js/jquery.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
<script>
    $(function () {
        function GoodsList(opts) {
            this.init(opts);
        }
        GoodsList.prototype={
            $goodsList:null,
            $JPrevBtn:null,
            $JNextBtn:null,
            $ul:null,
            $li:null,
            index:0,//首页的第一个元素的下标
            pageSize:6,
            init:function (opt) {
                var _this=this;
                _this.$goodsList=opt.target;
                _this.$pageSize=opt.pageSize;
                _this.$JPrevBtn= _this.$goodsList.find('.J-prev-btn');
                _this.$JNextBtn= _this.$goodsList.find('.J-next-btn');
                _this.$ul=_this.$goodsList.find('ul');
                _this.$li=_this.$ul.find('li');
                _this.bindEvent();
            },
            bindEvent:function () {
                var _this=this;
                _this.$JPrevBtn.click(function () {
                    _this.change(_this.index - _this.$pageSize);//0-6

                });
                _this.$JNextBtn.click(function () {
                    _this.change(_this.index + _this.$pageSize);//0+6
                });
            },
            change:function (index) {
                var _this=this;
                if(index<0){
                    index=0
                }
                if(index>_this.$li.length- _this.$pageSize){
//                    index=_this.$li.length- _this.$pageSize;//
                    index=Math.floor(_this.$li.length/_this.$pageSize)*_this.$pageSize;//
                }
                _this.index=index;//更新下标
                console.log('_this.index是' + _this.index);
                console.log('index是' + index);
                _this.$ul.animate({marginLeft:-index*_this.$li.outerWidth(true)},700,'easeOutBack');//outerWidth包括li的margin easeOutBack是github jQuery的库缓冲
            }
        }
        var goodList1=new GoodsList({
            target:$('.J-goods-list1'),
            pageSize:4
        })
        var goodList2=new GoodsList({
            target:$('.J-goods-list2'),
            pageSize:6
        })
    })
</script>
</body>
</html>